; Basic macro test

(macro if2 (c a b) env
    (cond
        (#(env c) #(env a))
        (true     (begin
            (puts "Test failed:")
            (puts #(stringize c))
            #(env b)))
))

(func main ():int
    (var x 4:int)
    (var y 4:int)
    (var z 7:int)
            
    (puts (if2 (eq? x y) "true" "false"))
    (puts (if2 (eq? x z) "true" "false"))
    0)
